name: CI

on:
  push:
    branches: [ main ]
    paths-ignore:
      - '.github/workflows/**'

  # ability to run action manually
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      # Dispatch an `merge-content` event to the `target_repo`
      - name: Repository Dispatch
        env:
          target_repo: 'EC-Nordbund/EC-Website'
        # You may pin to the exact commit or the version.
        # uses: peter-evans/repository-dispatch@ce5485de42c9b2622d2ed064be479e8ed65e76f4
        uses: peter-evans/repository-dispatch@v2.0.0
        with:
          token: ${{ secrets.DISPATCH_HOOK_TOKEN }}
          repository: ${{ env.target_repo }}
          event-type: merge-content
          # client-payload: # optional, default is {}
